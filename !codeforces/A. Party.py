# รับจำนวนพนักงานทั้งหมด
n = int(input())

# รับหัวหน้าของพนักงานแต่ละคน (มี n คน)
# p[i] คือหัวหน้าของพนักงานคนที่ i (index เริ่มจาก 0)
# ถ้า p[i] = -1 แปลว่าพนักงานคนนั้นไม่มีหัวหน้า
p = [int(input()) for _ in range(n)]

# ฟังก์ชันนี้ใช้หา "ระดับความลึก" ของพนักงานคนที่ i
# ความลึกคือจำนวนขั้นที่ต้องไล่ขึ้นไปหาหัวหน้าจนถึงบนสุด


def depth(i):
    d = 1  # เริ่มนับตัวเองที่ระดับ 1 ก่อน
    while p[i] != -1:        # ถ้ายังมีหัวหน้าอยู่
        i = p[i] - 1         # ย้ายไปที่หัวหน้า (ลด 1 เพราะ index เริ่มจาก 0)
        d += 1               # เพิ่มความลึกอีก 1 ชั้น
    return d  # คืนค่าความลึกของพนักงานคนที่ i


# ใช้ฟังก์ชัน depth กับพนักงานทุกคน แล้วหา "ความลึกที่มากที่สุด"
# ซึ่งก็คือจำนวนกลุ่มอย่างน้อยที่ต้องมี
max_depth = max(depth(i) for i in range(n))

# แสดงผลจำนวนกลุ่มที่ต้องใช้
print(max_depth)
